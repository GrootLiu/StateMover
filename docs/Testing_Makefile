
# Testbench module name
TESTBENCH = ...

# CCSIM path
CCSIM_PATH = /home/sameh/Research/Work/CSSIM/src

# Modelsim installation path
MODELSIM = /home/sameh/modelsim.10.5c/modeltech

# Altera compiled libraries path
ALTERA_LIB =/home/sameh/intelFPGA_pro/libraries/verilog_libs

# Linking with Altera compiled libraries
LFLAGS = -L $(ALTERA_LIB)/altera_mf_ver -L $(ALTERA_LIB)/twentynm_ver -L $(ALTERA_LIB)/lpm_ver -L $(ALTERA_LIB)/altera_ver -L $(ALTERA_LIB)/altera_lnsim_ver -L $(ALTERA_LIB)/sgate_ver -L $(ALTERA_LIB)/fourteennm_ct1_ver -L $(ALTERA_LIB)/fourteennm_ver

# Linking with Altera precompiled libraries for Modelsim Altera only
# LFLAGS = -L altera_mf_ver -L twentynm_ver -L lpm_ver -L altera_ver -L altera_lnsim

all:
	# remove work directory
	rm -rf work
	# create work library and compile verilog files
	$(MODELSIM)/bin/vlib work
	$(MODELSIM)/bin/vlog *.v
	# run the co-simulation
	$(MODELSIM)/bin/vsim -c -pli $(CCSIM_PATH)/cssim.sl -do "run -all ;quit"  $(LFLAGS) $(TESTBENCH) 

run_gui: 
	$(MODELSIM)/bin/vsim -pli $(CCSIM_PATH)/cssim.sl  $(LFLAGS) $(TESTBENCH) -novopt

clean: 
	rm -rf work
	rm -f transcript vsim.wlf
